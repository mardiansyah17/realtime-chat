generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id          Int           @id @default(autoincrement())
  name        String        @db.VarChar(50)
  email       String        @unique @db.VarChar(70)
  picture     String        @db.VarChar(255)
 participants Participant[]
  @@map("users")
}

model Conversation {
  id         Int    @id @default(autoincrement())
  message Message[]
  participants Participant[]
 @@map("conversations") 
}

model Participant{
  id Int @id
  user User @relation(fields: [userId],references: [id])
  userId Int 
  conversation Conversation @relation(fields: [conversationId],references: [id]) 
  conversationId Int
  @@map("participants")
}

model Message{
  id Int @id
  message String @db.VarChar(500)
  sender Int
  sender_id Conversation @relation(fields: [sender],references: [id])
  @@map("messages")
}